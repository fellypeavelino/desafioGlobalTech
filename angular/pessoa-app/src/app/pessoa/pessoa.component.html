<!-- pessoa.component.html -->
<div class="container mt-5">
  <h2>Cadastro de Pessoa</h2>
  <form #formPessoa="ngForm">
    <div class="row">
      <div class="col-md-6">
        <div class="mb-3">
          <label for="nome" class="form-label">Nome</label>
          <input type="text" class="form-control" id="nome" name="nome" [(ngModel)]="pessoa.nome" required placeholder="Nome completo">
        </div>
      </div>
      <div class="col-md-6">
        <div class="mb-3">
          <label for="dataNascimento" class="form-label">Data de Nascimento</label>
          <input type="date" class="form-control" id="dataNascimento" name="dataNascimento" [(ngModel)]="pessoa.dataNascimento" required>
        </div>
      </div>
    </div>
    
    <div class="row">
      <div class="col-md-6">
        <div class="mb-3">
          <label for="cpf" class="form-label">CPF</label>
          <input type="text" class="form-control" id="cpf" name="cpf" [(ngModel)]="pessoa.cpf" required placeholder="000.000.000-00">
        </div>
      </div>
      <div class="col-md-6">
        <div class="mb-3">
          <label for="sexo" class="form-label">Sexo</label>
          <select class="form-select" id="sexo" name="sexo" [(ngModel)]="pessoa.sexo" required>
            <option value="" disabled selected>Escolha o sexo</option>
            <option value="MASCULINO">Masculino</option>
            <option value="FEMININO">Feminino</option>
          </select>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-md-6">
        <div class="mb-3">
          <label for="altura" class="form-label">Altura (em metros)</label>
          <input type="number" class="form-control" id="altura" name="altura" [(ngModel)]="pessoa.altura" required step="0.01" placeholder="Altura em metros">
        </div>
      </div>
      <div class="col-md-6">
        <div class="mb-3">
          <label for="peso" class="form-label">Peso (em kg)</label>
          <input type="number" class="form-control" id="peso" name="peso" [(ngModel)]="pessoa.peso" required step="0.1" placeholder="Peso em kg">
        </div>
      </div>
    </div>

    <div class="d-flex gap-2">
      <button type="submit" class="btn btn-primary" (click)="incluir()">Incluir</button>
      <button type="button" class="btn btn-warning" (click)="alterar()">Alterar</button>
      <button type="button" class="btn btn-danger" (click)="excluir()">Excluir</button>
      <button type="button" class="btn btn-info" (click)="pesquisar()">Pesquisar</button>
      <button (click)="calcularPesoIdeal()" [disabled]="!isSelected">Calcular Peso Ideal</button>
    </div>
  </form>
</div>

<div class="container mt-5">
  <h2>Lista de Pessoas</h2>
  <table class="table table-striped table-bordered">
    <thead class="table-dark">
      <tr>
        <th>ID</th>
        <th>Nome</th>
        <th>Data de Nascimento</th>
        <th>CPF</th>
        <th>Sexo</th>
        <th>Altura</th>
        <th>Peso</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let pessoa of pessoas" (click)="selecionarPessoa(pessoa)" [class.table-primary]="pessoa === pessoaSelecionada">
        <td>{{ pessoa.id }}</td>
        <td>{{ pessoa.nome }}</td>
        <td>{{ pessoa.dataNascimento | date:'dd/MM/yyyy' }}</td>
        <td>{{ pessoa.cpf }}</td>
        <td>{{ pessoa.sexo }}</td>
        <td>{{ pessoa.altura }}</td>
        <td>{{ pessoa.peso }}</td>
      </tr>
    </tbody>
  </table>
</div>



